(function(a){a(function(){a(document.body).append(a("<style>.NZ-Drag{-moz-user-select: -moz-none;-moz-user-select: none;-o-user-select: none;-khtml-user-select: none;-webkit-user-select: none;-ms-user-select: none;user-select: none}</style>"))});var b={init:function(e,l){var h=a(this);var i={bydragobj:h,isTransparent:true};var m=a.extend({},a.fn.NZDrag.defaultparam,l);m=a.extend({},i,m);var k=false;var f,g;var j=0,o=0,n=0,d=0;a(this).bind({"click.NHDrag":function(p){},"mousedown.NHDrag":function(p){k=true;m=a.extend({},a.fn.NZDrag.defaultparam,l);m=a.extend({},i,m);switch(m.bydragobj.css("position")){case"absolute":default:j=m.upper.left===null||typeof m.upper.left==="undefined"?-m.bydragobj.outerWidth()/2:m.upper.left;o=m.upper.top===null||typeof m.upper.top==="undefined"?0:m.upper.top;n=m.upper.right===null||typeof m.upper.right==="undefined"?(document.body.scrollWidth+m.bydragobj.outerWidth()/2):m.upper.right;d=m.upper.bottom===null||typeof m.upper.bottom==="undefined"?(document.body.scrollHeight-m.bydragobj.outerHeight()/2):m.upper.bottom;break;case"fixed":j=m.upper.left===null||typeof m.upper.left==="undefined"?-m.bydragobj.outerWidth()/2:m.upper.left;o=m.upper.top===null||typeof m.upper.top==="undefined"?0:m.upper.top;n=m.upper.right===null||typeof m.upper.right==="undefined"?(a(window).width()-m.bydragobj.outerWidth()/2):m.upper.right;d=m.upper.bottom===null||typeof m.upper.bottom==="undefined"?(a(window).height()-m.bydragobj.outerHeight()/2):m.upper.bottom;break}f=p.pageX-parseInt(m.bydragobj.css("left")=="auto"?0:m.bydragobj.css("left"));g=p.pageY-parseInt(m.bydragobj.css("top")=="auto"?0:m.bydragobj.css("top"));if(m.isTransparent){m.bydragobj.fadeTo(20,0.5)}if(m.bydragobj.find("iframe").length>0){m.bydragobj.find("iframe").hide()}a(document.body).attr("unselectable","on").addClass("NH-Drag");a(document).bind({"mousemove.NHDrag":function(q){if(k){m.bydragobj.css({left:(q.pageX-f)<=j?j:((q.pageX-f)>=n)?n:q.pageX-f,top:(q.pageY-g)<=o?o:((q.pageY-g)>=d?d:(q.pageY-g))})}},"mouseup.NHDrag":function(q){m.bydragobj.find("iframe").show();k=false;m.bydragobj.fadeTo("fast",1);a(document).unbind("mousemove.NHDrag mouseup.NHDrag selectstart.NHDrag");a(document.body).removeClass("NH-Drag").removeAttr("unselectable");a("#isfloat").html(a(document.body).css("user-select"))},"selectstart.NHDrag":function(q){return false}});p.preventDefault();c(p)}})},destroy:function(){a(this).unbind("click.NHDrag").unbind("mousedown.NHDrag")}};a.fn.NZDrag=function(d,e){if(b[d]){return b[d].apply(this,arguments)}else{if(typeof b==="object"||!d){return b.show.apply(this,arguments)}}};a.fn.NZDrag.defaultparam={upper:{left:null,right:null,top:null,bottom:null}};function c(d){if(d&&d.stopPropagation){d.stopPropagation()}else{window.event.cancelBubble=true}}})(jQuery);